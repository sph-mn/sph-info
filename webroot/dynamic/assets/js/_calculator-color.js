(function(){function n(u){return function(n,t,r,e){t=m(t,e,4);var i=!j(n)&&y.keys(n),o=(i||n).length,a=0<u?0:o-1;return arguments.length<3&&(r=n[i?i[a]:a],a+=u),function(n,t,r,e,i,o){for(;0<=i&&i<o;i+=u){var a=e?e[i]:i;r=t(r,n[a],a,n)}return r}(n,t,r,i,a,o)}}function t(o){return function(n,t,r){t=_(t,r);for(var e=S(n),i=0<o?0:e-1;0<=i&&i<e;i+=o)if(t(n[i],i,n))return i;return-1}}function r(o,a,u){return function(n,t,r){var e=0,i=S(n);if("number"==typeof r)0<o?e=0<=r?r:Math.max(r+i,e):i=0<=r?Math.min(r+1,i):r+i+1;else if(u&&r&&i)return n[r=u(n,t)]===t?r:-1;if(t!=t)return 0<=(r=a(f.call(n,e,i),y.isNaN))?r+e:-1;for(r=0<o?e:i-1;0<=r&&r<i;r+=o)if(n[r]===t)return r;return-1}}function e(n,t){var r=M.length,e=n.constructor,i=y.isFunction(e)&&e.prototype||u,o="constructor";for(y.has(n,o)&&!y.contains(t,o)&&t.push(o);r--;)(o=M[r])in n&&n[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,a=Array.prototype,u=Object.prototype,c=Function.prototype,l=a.push,f=a.slice,s=u.toString,h=u.hasOwnProperty,p=Array.isArray,d=Object.keys,g=c.bind,v=Object.create,b=function(){},y=function(n){return n instanceof y?n:this instanceof y?void(this._wrapped=n):new y(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var m=function(i,o,n){if(void 0===o)return i;switch(null==n?3:n){case 1:return function(n){return i.call(o,n)};case 2:return function(n,t){return i.call(o,n,t)};case 3:return function(n,t,r){return i.call(o,n,t,r)};case 4:return function(n,t,r,e){return i.call(o,n,t,r,e)}}return function(){return i.apply(o,arguments)}},_=function(n,t,r){return null==n?y.identity:y.isFunction(n)?m(n,t,r):y.isObject(n)?y.matcher(n):y.property(n)};y.iteratee=function(n,t){return _(n,t,1/0)};var x=function(c,l){return function(n){var t=arguments.length;if(t<2||null==n)return n;for(var r=1;r<t;r++)for(var e=arguments[r],i=c(e),o=i.length,a=0;a<o;a++){var u=i[a];l&&void 0!==n[u]||(n[u]=e[u])}return n}},w=function(n){if(!y.isObject(n))return{};if(v)return v(n);b.prototype=n;var t=new b;return b.prototype=null,t},k=function(t){return function(n){return null==n?void 0:n[t]}},A=Math.pow(2,53)-1,S=k("length"),j=function(n){var t=S(n);return"number"==typeof t&&0<=t&&t<=A};y.each=y.forEach=function(n,t,r){var e,i;if(t=m(t,r),j(n))for(e=0,i=n.length;e<i;e++)t(n[e],e,n);else{var o=y.keys(n);for(e=0,i=o.length;e<i;e++)t(n[o[e]],o[e],n)}return n},y.map=y.collect=function(n,t,r){t=_(t,r);for(var e=!j(n)&&y.keys(n),i=(e||n).length,o=Array(i),a=0;a<i;a++){var u=e?e[a]:a;o[a]=t(n[u],u,n)}return o},y.reduce=y.foldl=y.inject=n(1),y.reduceRight=y.foldr=n(-1),y.find=y.detect=function(n,t,r){var e;return void 0!==(e=j(n)?y.findIndex(n,t,r):y.findKey(n,t,r))&&-1!==e?n[e]:void 0},y.filter=y.select=function(n,e,t){var i=[];return e=_(e,t),y.each(n,function(n,t,r){e(n,t,r)&&i.push(n)}),i},y.reject=function(n,t,r){return y.filter(n,y.negate(_(t)),r)},y.every=y.all=function(n,t,r){t=_(t,r);for(var e=!j(n)&&y.keys(n),i=(e||n).length,o=0;o<i;o++){var a=e?e[o]:o;if(!t(n[a],a,n))return!1}return!0},y.some=y.any=function(n,t,r){t=_(t,r);for(var e=!j(n)&&y.keys(n),i=(e||n).length,o=0;o<i;o++){var a=e?e[o]:o;if(t(n[a],a,n))return!0}return!1},y.contains=y.includes=y.include=function(n,t,r,e){return j(n)||(n=y.values(n)),("number"!=typeof r||e)&&(r=0),0<=y.indexOf(n,t,r)},y.invoke=function(n,r){var e=f.call(arguments,2),i=y.isFunction(r);return y.map(n,function(n){var t=i?r:n[r];return null==t?t:t.apply(n,e)})},y.pluck=function(n,t){return y.map(n,y.property(t))},y.where=function(n,t){return y.filter(n,y.matcher(t))},y.findWhere=function(n,t){return y.find(n,y.matcher(t))},y.max=function(n,e,t){var r,i,o=-1/0,a=-1/0;if(null==e&&null!=n)for(var u=0,c=(n=j(n)?n:y.values(n)).length;u<c;u++)r=n[u],o<r&&(o=r);else e=_(e,t),y.each(n,function(n,t,r){i=e(n,t,r),(a<i||i===-1/0&&o===-1/0)&&(o=n,a=i)});return o},y.min=function(n,e,t){var r,i,o=1/0,a=1/0;if(null==e&&null!=n)for(var u=0,c=(n=j(n)?n:y.values(n)).length;u<c;u++)(r=n[u])<o&&(o=r);else e=_(e,t),y.each(n,function(n,t,r){((i=e(n,t,r))<a||1/0===i&&1/0===o)&&(o=n,a=i)});return o},y.shuffle=function(n){for(var t,r=j(n)?n:y.values(n),e=r.length,i=Array(e),o=0;o<e;o++)(t=y.random(0,o))!==o&&(i[o]=i[t]),i[t]=r[o];return i},y.sample=function(n,t,r){return null==t||r?(j(n)||(n=y.values(n)),n[y.random(n.length-1)]):y.shuffle(n).slice(0,Math.max(0,t))},y.sortBy=function(n,e,t){return e=_(e,t),y.pluck(y.map(n,function(n,t,r){return{value:n,index:t,criteria:e(n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var O=function(a){return function(e,i,n){var o={};return i=_(i,n),y.each(e,function(n,t){var r=i(n,t,e);a(o,n,r)}),o}};y.groupBy=O(function(n,t,r){y.has(n,r)?n[r].push(t):n[r]=[t]}),y.indexBy=O(function(n,t,r){n[r]=t}),y.countBy=O(function(n,t,r){y.has(n,r)?n[r]++:n[r]=1}),y.toArray=function(n){return n?y.isArray(n)?f.call(n):j(n)?y.map(n,y.identity):y.values(n):[]},y.size=function(n){return null==n?0:j(n)?n.length:y.keys(n).length},y.partition=function(n,e,t){e=_(e,t);var i=[],o=[];return y.each(n,function(n,t,r){(e(n,t,r)?i:o).push(n)}),[i,o]},y.first=y.head=y.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:y.initial(n,n.length-t)},y.initial=function(n,t,r){return f.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},y.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:y.rest(n,Math.max(0,n.length-t))},y.rest=y.tail=y.drop=function(n,t,r){return f.call(n,null==t||r?1:t)},y.compact=function(n){return y.filter(n,y.identity)};var R=function(n,t,r,e){for(var i=[],o=0,a=e||0,u=S(n);a<u;a++){var c=n[a];if(j(c)&&(y.isArray(c)||y.isArguments(c))){t||(c=R(c,t,r));var l=0,f=c.length;for(i.length+=f;l<f;)i[o++]=c[l++]}else r||(i[o++]=c)}return i};y.flatten=function(n,t){return R(n,t,!1)},y.without=function(n){return y.difference(n,f.call(arguments,1))},y.uniq=y.unique=function(n,t,r,e){y.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=_(r,e));for(var i=[],o=[],a=0,u=S(n);a<u;a++){var c=n[a],l=r?r(c,a,n):c;t?(a&&o===l||i.push(c),o=l):r?y.contains(o,l)||(o.push(l),i.push(c)):y.contains(i,c)||i.push(c)}return i},y.union=function(){return y.uniq(R(arguments,!0,!0))},y.intersection=function(n){for(var t=[],r=arguments.length,e=0,i=S(n);e<i;e++){var o=n[e];if(!y.contains(t,o)){for(var a=1;a<r&&y.contains(arguments[a],o);a++);a===r&&t.push(o)}}return t},y.difference=function(n){var t=R(arguments,!0,!0,1);return y.filter(n,function(n){return!y.contains(t,n)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(n){for(var t=n&&y.max(n,S).length||0,r=Array(t),e=0;e<t;e++)r[e]=y.pluck(n,e);return r},y.object=function(n,t){for(var r={},e=0,i=S(n);e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(n,t,r,e){for(var i=(r=_(r,e,1))(t),o=0,a=S(n);o<a;){var u=Math.floor((o+a)/2);r(n[u])<i?o=u+1:a=u}return o},y.indexOf=r(1,y.findIndex,y.sortedIndex),y.lastIndexOf=r(-1,y.findLastIndex),y.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=Array(e),o=0;o<e;o++,n+=r)i[o]=n;return i};var H=function(n,t,r,e,i){if(!(e instanceof t))return n.apply(r,i);var o=w(n.prototype),a=n.apply(o,i);return y.isObject(a)?a:o};y.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,f.call(arguments,1));if(!y.isFunction(n))throw new TypeError("Bind must be called on a function");var r=f.call(arguments,2),e=function(){return H(n,e,t,this,r.concat(f.call(arguments)))};return e},y.partial=function(i){var o=f.call(arguments,1),a=function(){for(var n=0,t=o.length,r=Array(t),e=0;e<t;e++)r[e]=o[e]===y?arguments[n++]:o[e];for(;n<arguments.length;)r.push(arguments[n++]);return H(i,a,this,this,r)};return a},y.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)n[r=arguments[t]]=y.bind(n[r],n);return n},y.memoize=function(e,i){var o=function(n){var t=o.cache,r=""+(i?i.apply(this,arguments):n);return y.has(t,r)||(t[r]=e.apply(this,arguments)),t[r]};return o.cache={},o},y.delay=function(n,t){var r=f.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(r,e,i){var o,a,u,c=null,l=0;i||(i={});var f=function(){l=!1===i.leading?0:y.now(),c=null,u=r.apply(o,a),c||(o=a=null)};return function(){var n=y.now();l||!1!==i.leading||(l=n);var t=e-(n-l);return o=this,a=arguments,t<=0||e<t?(c&&(clearTimeout(c),c=null),l=n,u=r.apply(o,a),c||(o=a=null)):c||!1===i.trailing||(c=setTimeout(f,t)),u}},y.debounce=function(t,r,e){var i,o,a,u,c,l=function(){var n=y.now()-u;n<r&&0<=n?i=setTimeout(l,r-n):(i=null,e||(c=t.apply(a,o),i||(a=o=null)))};return function(){a=this,o=arguments,u=y.now();var n=e&&!i;return i||(i=setTimeout(l,r)),n&&(c=t.apply(a,o),a=o=null),c}},y.wrap=function(n,t){return y.partial(t,n)},y.negate=function(n){return function(){return!n.apply(this,arguments)}},y.compose=function(){var r=arguments,e=r.length-1;return function(){for(var n=e,t=r[e].apply(this,arguments);n--;)t=r[n].call(this,t);return t}},y.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},y.before=function(n,t){var r;return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},y.once=y.partial(y.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(n){if(!y.isObject(n))return[];if(d)return d(n);var t=[];for(var r in n)y.has(n,r)&&t.push(r);return F&&e(n,t),t},y.allKeys=function(n){if(!y.isObject(n))return[];var t=[];for(var r in n)t.push(r);return F&&e(n,t),t},y.values=function(n){for(var t=y.keys(n),r=t.length,e=Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},y.mapObject=function(n,t,r){t=_(t,r);for(var e,i=y.keys(n),o=i.length,a={},u=0;u<o;u++)a[e=i[u]]=t(n[e],e,n);return a},y.pairs=function(n){for(var t=y.keys(n),r=t.length,e=Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},y.invert=function(n){for(var t={},r=y.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},y.functions=y.methods=function(n){var t=[];for(var r in n)y.isFunction(n[r])&&t.push(r);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(n,t,r){t=_(t,r);for(var e,i=y.keys(n),o=0,a=i.length;o<a;o++)if(t(n[e=i[o]],e,n))return e},y.pick=function(n,t,r){var e,i,o={},a=n;if(null==a)return o;y.isFunction(t)?(i=y.allKeys(a),e=m(t,r)):(i=R(arguments,!1,!1,1),e=function(n,t,r){return t in r},a=Object(a));for(var u=0,c=i.length;u<c;u++){var l=i[u],f=a[l];e(f,l,a)&&(o[l]=f)}return o},y.omit=function(n,t,r){if(y.isFunction(t))t=y.negate(t);else{var e=y.map(R(arguments,!1,!1,1),String);t=function(n,t){return!y.contains(e,t)}}return y.pick(n,t,r)},y.defaults=x(y.allKeys,!0),y.create=function(n,t){var r=w(n);return t&&y.extendOwn(r,t),r},y.clone=function(n){return y.isObject(n)?y.isArray(n)?n.slice():y.extend({},n):n},y.tap=function(n,t){return t(n),n},y.isMatch=function(n,t){var r=y.keys(t),e=r.length;if(null==n)return!e;for(var i=Object(n),o=0;o<e;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var E=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof y&&(n=n._wrapped),t instanceof y&&(t=t._wrapped);var i=s.call(n);if(i!==s.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var a=n.constructor,u=t.constructor;if(a!==u&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(u)&&u instanceof u)&&"constructor"in n&&"constructor"in t)return!1}e=e||[];for(var c=(r=r||[]).length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),o){if((c=n.length)!==t.length)return!1;for(;c--;)if(!E(n[c],t[c],r,e))return!1}else{var l,f=y.keys(n);if(c=f.length,y.keys(t).length!==c)return!1;for(;c--;)if(l=f[c],!y.has(t,l)||!E(n[l],t[l],r,e))return!1}return r.pop(),e.pop(),!0};y.isEqual=function(n,t){return E(n,t)},y.isEmpty=function(n){return null==n||(j(n)&&(y.isArray(n)||y.isString(n)||y.isArguments(n))?0===n.length:0===y.keys(n).length)},y.isElement=function(n){return!(!n||1!==n.nodeType)},y.isArray=p||function(n){return"[object Array]"===s.call(n)},y.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(n){return s.call(n)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(n){return y.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(n){return"function"==typeof n||!1}),y.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},y.isNaN=function(n){return y.isNumber(n)&&n!==+n},y.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},y.isNull=function(n){return null===n},y.isUndefined=function(n){return void 0===n},y.has=function(n,t){return null!=n&&h.call(n,t)},y.noConflict=function(){return i._=o,this},y.identity=function(n){return n},y.constant=function(n){return function(){return n}},y.noop=function(){},y.property=k,y.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(n){return y.isMatch(n,t)}},y.times=function(n,t,r){var e=Array(Math.max(0,n));t=m(t,r,1);for(var i=0;i<n;i++)e[i]=t(i);return e},y.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},y.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=y.invert(I),C=function(t){var r=function(n){return t[n]},n="(?:"+y.keys(t).join("|")+")",e=RegExp(n),i=RegExp(n,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(i,r):n}};y.escape=C(I),y.unescape=C(q),y.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),y.isFunction(e)?e.call(n):e};var B=0;y.uniqueId=function(n){var t=++B+"";return n?n+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,T=function(n){return"\\"+P[n]};y.template=function(o,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var r=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),a=0,u="__p+='";o.replace(r,function(n,t,r,e,i){return u+=o.slice(a,i).replace(L,T),a=i+n.length,t?u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":e&&(u+="';\n"+e+"\n__p+='"),n}),u+="';\n",n.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var e=new Function(n.variable||"obj","_",u)}catch(n){throw n.source=u,n}var i=function(n){return e.call(this,n,y)},c=n.variable||"obj";return i.source="function("+c+"){\n"+u+"}",i},y.chain=function(n){var t=y(n);return t._chain=!0,t};var z=function(n,t){return n._chain?y(t).chain():t};y.mixin=function(r){y.each(y.functions(r),function(n){var t=y[n]=r[n];y.prototype[n]=function(){var n=[this._wrapped];return l.apply(n,arguments),z(this,t.apply(y,n))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var r=a[t];y.prototype[t]=function(){var n=this._wrapped;return r.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(n){var t=a[n];y.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),function(){function s(n,t){if(t=t||{},(n=n||"")instanceof s)return n;if(!(this instanceof s))return new s(n,t);var r,e,i,o,a,u,c,l,f=(e={r:0,g:0,b:0},a=o=!(i=1),"string"==typeof(r=n)&&(r=function(n){n=n.replace(A,"").replace(S,"").toLowerCase();var t,r,e=!1;if(C[n])n=C[n],e=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(t=N.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=N.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=N.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=N.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=N.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=N.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=N.hex8.exec(n))?{a:(r=t[1],x(r)/255),r:x(t[2]),g:x(t[3]),b:x(t[4]),format:e?"name":"hex8"}:(t=N.hex6.exec(n))?{r:x(t[1]),g:x(t[2]),b:x(t[3]),format:e?"name":"hex"}:!!(t=N.hex3.exec(n))&&{r:x(t[1]+""+t[1]),g:x(t[2]+""+t[2]),b:x(t[3]+""+t[3]),format:e?"name":"hex"}}(r)),"object"==typeof r&&(r.hasOwnProperty("r")&&r.hasOwnProperty("g")&&r.hasOwnProperty("b")?(u=r.r,c=r.g,l=r.b,e={r:255*m(u,255),g:255*m(c,255),b:255*m(l,255)},o=!0,a="%"===String(r.r).substr(-1)?"prgb":"rgb"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("v")?(r.s=k(r.s),r.v=k(r.v),e=function(n,t,r){n=6*m(n,360),t=m(t,100),r=m(r,100);var e=O.floor(n),i=n-e,o=r*(1-t),a=r*(1-i*t),u=r*(1-(1-i)*t),c=e%6;return{r:255*[r,a,o,o,u,r][c],g:255*[u,r,r,a,o,o][c],b:255*[o,o,u,r,r,a][c]}}(r.h,r.s,r.v),o=!0,a="hsv"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("l")&&(r.s=k(r.s),r.l=k(r.l),e=function(n,t,r){function e(n,t,r){return r<0&&(r+=1),1<r&&(r-=1),r<1/6?n+6*(t-n)*r:r<.5?t:r<2/3?n+6*(t-n)*(2/3-r):n}var i,o,a;if(n=m(n,360),t=m(t,100),r=m(r,100),0===t)i=o=a=r;else{var u=r<.5?r*(1+t):r+t-r*t,c=2*r-u;i=e(c,u,n+1/3),o=e(c,u,n),a=e(c,u,n-1/3)}return{r:255*i,g:255*o,b:255*a}}(r.h,r.s,r.l),o=!0,a="hsl"),r.hasOwnProperty("a")&&(i=r.a)),i=y(i),{ok:o,format:r.format||a,r:H(255,F(e.r,0)),g:H(255,F(e.g,0)),b:H(255,F(e.b,0)),a:i});this._originalInput=n,this._r=f.r,this._g=f.g,this._b=f.b,this._a=f.a,this._roundA=R(100*this._a)/100,this._format=t.format||f.format,this._gradientType=t.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=f.ok,this._tc_id=j++}function i(n,t,r){n=m(n,255),t=m(t,255),r=m(r,255);var e,i,o=F(n,t,r),a=H(n,t,r),u=(o+a)/2;if(o==a)e=i=0;else{var c=o-a;switch(i=.5<u?c/(2-o-a):c/(o+a),o){case n:e=(t-r)/c+(t<r?6:0);break;case t:e=(r-n)/c+2;break;case r:e=(n-t)/c+4}e/=6}return{h:e,s:i,l:u}}function o(n,t,r){n=m(n,255),t=m(t,255),r=m(r,255);var e,i,o=F(n,t,r),a=H(n,t,r),u=o,c=o-a;if(i=0===o?0:c/o,o==a)e=0;else{switch(o){case n:e=(t-r)/c+(t<r?6:0);break;case t:e=(r-n)/c+2;break;case r:e=(n-t)/c+4}e/=6}return{h:e,s:i,v:u}}function t(n,t,r,e){var i=[w(R(n).toString(16)),w(R(t).toString(16)),w(R(r).toString(16))];return e&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a(n,t,r,e){var i;return[w((i=e,Math.round(255*parseFloat(i)).toString(16))),w(R(n).toString(16)),w(R(t).toString(16)),w(R(r).toString(16))].join("")}function n(n,t){t=0===t?0:t||10;var r=s(n).toHsl();return r.s-=t/100,r.s=_(r.s),s(r)}function r(n,t){t=0===t?0:t||10;var r=s(n).toHsl();return r.s+=t/100,r.s=_(r.s),s(r)}function e(n){return s(n).desaturate(100)}function u(n,t){t=0===t?0:t||10;var r=s(n).toHsl();return r.l+=t/100,r.l=_(r.l),s(r)}function c(n,t){t=0===t?0:t||10;var r=s(n).toRgb();return r.r=F(0,H(255,r.r-R(-t/100*255))),r.g=F(0,H(255,r.g-R(-t/100*255))),r.b=F(0,H(255,r.b-R(-t/100*255))),s(r)}function l(n,t){t=0===t?0:t||10;var r=s(n).toHsl();return r.l-=t/100,r.l=_(r.l),s(r)}function f(n,t){var r=s(n).toHsl(),e=(R(r.h)+t)%360;return r.h=e<0?360+e:e,s(r)}function h(n){var t=s(n).toHsl();return t.h=(t.h+180)%360,s(t)}function p(n){var t=s(n).toHsl(),r=t.h;return[s(n),s({h:(r+120)%360,s:t.s,l:t.l}),s({h:(r+240)%360,s:t.s,l:t.l})]}function d(n){var t=s(n).toHsl(),r=t.h;return[s(n),s({h:(r+90)%360,s:t.s,l:t.l}),s({h:(r+180)%360,s:t.s,l:t.l}),s({h:(r+270)%360,s:t.s,l:t.l})]}function g(n){var t=s(n).toHsl(),r=t.h;return[s(n),s({h:(r+72)%360,s:t.s,l:t.l}),s({h:(r+216)%360,s:t.s,l:t.l})]}function v(n,t,r){t=t||6,r=r||30;var e=s(n).toHsl(),i=360/r,o=[s(n)];for(e.h=(e.h-(i*t>>1)+720)%360;--t;)e.h=(e.h+i)%360,o.push(s(e));return o}function b(n,t){t=t||6;for(var r=s(n).toHsv(),e=r.h,i=r.s,o=r.v,a=[],u=1/t;t--;)a.push(s({h:e,s:i,v:o})),o=(o+u)%1;return a}function y(n){return n=parseFloat(n),(isNaN(n)||n<0||1<n)&&(n=1),n}function m(n,t){var r;"string"==typeof(r=n)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(n="100%");var e,i="string"==typeof(e=n)&&-1!=e.indexOf("%");return n=H(t,F(0,parseFloat(n))),i&&(n=parseInt(n*t,10)/100),O.abs(n-t)<1e-6?1:n%t/parseFloat(t)}function _(n){return H(1,F(0,n))}function x(n){return parseInt(n,16)}function w(n){return 1==n.length?"0"+n:""+n}function k(n){return n<=1&&(n=100*n+"%"),n}var A=/^\s+/,S=/\s+$/,j=0,O=Math,R=O.round,H=O.min,F=O.max,M=O.random;s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3},getLuminance:function(){var n,t,r,e=this.toRgb();return n=e.r/255,t=e.g/255,r=e.b/255,.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(n){return this._a=y(n),this._roundA=R(100*this._a)/100,this},toHsv:function(){var n=o(this._r,this._g,this._b);return{h:360*n.h,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=o(this._r,this._g,this._b),t=R(360*n.h),r=R(100*n.s),e=R(100*n.v);return 1==this._a?"hsv("+t+", "+r+"%, "+e+"%)":"hsva("+t+", "+r+"%, "+e+"%, "+this._roundA+")"},toHsl:function(){var n=i(this._r,this._g,this._b);return{h:360*n.h,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=i(this._r,this._g,this._b),t=R(360*n.h),r=R(100*n.s),e=R(100*n.l);return 1==this._a?"hsl("+t+", "+r+"%, "+e+"%)":"hsla("+t+", "+r+"%, "+e+"%, "+this._roundA+")"},toHex:function(n){return t(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*m(this._r,255))+"%",g:R(100*m(this._g,255))+"%",b:R(100*m(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*m(this._r,255))+"%, "+R(100*m(this._g,255))+"%, "+R(100*m(this._b,255))+"%)":"rgba("+R(100*m(this._r,255))+"%, "+R(100*m(this._g,255))+"%, "+R(100*m(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(B[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(n){var t="#"+a(this._r,this._g,this._b,this._a),r=t,e=this._gradientType?"GradientType = 1, ":"";n&&(r=s(n).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+t+",endColorstr="+r+")"},toString:function(n){var t=!!n;n=n||this._format;var r=!1,e=this._a<1&&0<=this._a;return!t&&e&&("hex"===n||"hex6"===n||"hex3"===n||"name"===n)?"name"===n&&0===this._a?this.toName():this.toRgbString():("rgb"===n&&(r=this.toRgbString()),"prgb"===n&&(r=this.toPercentageRgbString()),("hex"===n||"hex6"===n)&&(r=this.toHexString()),"hex3"===n&&(r=this.toHexString(!0)),"hex8"===n&&(r=this.toHex8String()),"name"===n&&(r=this.toName()),"hsl"===n&&(r=this.toHslString()),"hsv"===n&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(n,t){var r=n.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(c,arguments)},darken:function(){return this._applyModification(l,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(r,arguments)},greyscale:function(){return this._applyModification(e,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(n,t){return n.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(v,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(g,arguments)},triad:function(){return this._applyCombination(p,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},s.fromRatio=function(n,t){if("object"==typeof n){var r={};for(var e in n)n.hasOwnProperty(e)&&(r[e]="a"===e?n[e]:k(n[e]));n=r}return s(n,t)},s.equals=function(n,t){return!(!n||!t)&&s(n).toRgbString()==s(t).toRgbString()},s.random=function(){return s.fromRatio({r:M(),g:M(),b:M()})},s.mix=function(n,t,r){r=0===r?0:r||50;var e,i=s(n).toRgb(),o=s(t).toRgb(),a=r/100,u=2*a-1,c=o.a-i.a,l=1-(e=((e=-1==u*c?u:(u+c)/(1+u*c))+1)/2);return s({r:o.r*e+i.r*l,g:o.g*e+i.g*l,b:o.b*e+i.b*l,a:o.a*a+i.a*(1-a)})},s.readability=function(n,t){var r=s(n),e=s(t);return(Math.max(r.getLuminance(),e.getLuminance())+.05)/(Math.min(r.getLuminance(),e.getLuminance())+.05)},s.isReadable=function(n,t,r){var e,i,o,a,u,c=s.readability(n,t);switch(i=!1,"AA"!==(a=((o=(o=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(u=(o.size||"small").toLowerCase())&&"large"!==u&&(u="small"),(e={level:a,size:u}).level+e.size){case"AAsmall":case"AAAlarge":i=4.5<=c;break;case"AAlarge":i=3<=c;break;case"AAAsmall":i=7<=c}return i},s.mostReadable=function(n,t,r){var e,i,o,a,u=null,c=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var l=0;l<t.length;l++)c<(e=s.readability(n,t[l]))&&(c=e,u=s(t[l]));return s.isReadable(n,u,{level:o,size:a})||!i?u:(r.includeFallbackColors=!1,s.mostReadable(n,["#fff","#000"],r))};var E,I,q,C=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=s.hexNames=function(n){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[n[r]]=r);return t}(C),N=(I="[\\s|\\(]+("+(E="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",q="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):window.tinycolor=s}(),module.define("ytilitu.calculator.color",function(){function t(n){return n.replace(/\s+/g,",")}var u,c,l,i={input_rgb:{value_to_color:function(n){return tinycolor("rgb("+t(n)+")")},color_to_value:function(n){return[(t=n.toRgb()).r,t.g,t.b].join(" ");var t}},input_hex:{value_to_color:function(n){return tinycolor(n)},color_to_value:function(n){return n.toHex()}},input_hsl:{value_to_color:function(n){return tinycolor("hsl("+t(n)+")")},color_to_value:function(n){return t=n.toHsl(),[Math.round(t.h),Math.round(100*t.s),Math.round(100*t.l)].join(" ");var t}},input_rgb_css:{value_to_color:function(n){return tinycolor(n)},color_to_value:function(n){return n.toRgbString()}},input_hex_css:{value_to_color:function(n){return tinycolor(n)},color_to_value:function(n){return n.toHexString()}},input_hsl_css:{value_to_color:function(n){return tinycolor(n)},color_to_value:function(n){return n.toHslString()}}};function f(n){return[(t=n.toRgb()).r,t.g,t.b].join(" ");var t}function n(n,t){t||(t=n),c.push("",n);var r=u.clone()[t](),e=document.querySelector("."+n+" .preview .area"),i=document.getElementById("input_"+n+"_value");return c.push(r.toRgbString()),i.value=f(r),e.style.backgroundColor=r.toHexString()}var r=["hue","brightness","lightness","saturation"];var e,o=["triad","splitcomplement","tetrad","analogous","monochromatic"];function a(){return n("complement"),n("greyscale"),_.each(o,function(n){return o=n,(a=function(){return l[n]()}()).shift(),c.push("",o),_.times(a.length,function(n){var t=a[n],r="input_"+o+"_value_"+n,e=document.querySelector("."+o+" .preview[for="+r+"] .area"),i=document.getElementById(r);return c.push(t.toRgbString()),i.value=f(t),e.style.backgroundColor=t.toHexString()});var o,a})}function s(n){var e,t;return n||(n=i.input_rgb.element),c=[],t=i[(e=n).id],u=t.value_to_color(e.value),l=u.clone(),c.push("color",u.toRgbString()),_.each(i,function(n,t){if(e.id!==t)return(r=i[t]).element.value=r.color_to_value(u);var r}),document.querySelector(".conversion .preview .area").style.backgroundColor=i.input_hex_css.element.value,l=u.clone(),_.each(r,function(n){var t,r=document.getElementById("input_"+n),e=document.getElementById("input_"+n+"_value"),i=document.querySelector(".control."+n+" .preview .area"),o=parseInt(r.value,10);switch(n){case"hue":t=["spin",o];break;case"lightness":t=[0<=o?"lighten":"darken",Math.abs(o)];break;case"brightness":t=["brighten",o];break;case"saturation":t=[0<=o?"saturate":"desaturate",Math.abs(o)]}l[t[0]](t[1]);var a=u.clone()[t[0]](t[1]);return e.value=f(a),i.style.backgroundColor=a.toHexString()}),document.querySelector(".modification > .preview .area").style.backgroundColor=l.toHexString(),document.getElementById("input_modified_preview_value").value=f(l),c.push("","modified",l.toRgbString()),a(),document.getElementById("text_display_area").innerHTML=c.join("\n")}function h(n){return s(n.target)}return e=document.querySelectorAll(".modification input:not([type=number]), .alternatives input"),_.each(e,function(n){return n.addEventListener("click",n.select)}),_.map(i,function(n,t){var r=document.getElementById(t);return(i[t].element=r).addEventListener("keyup",h),r.addEventListener("change",h)}),_.each(r,function(n){return document.getElementById("input_"+n).addEventListener("change",function(n){return s()})}),i.input_hex.element.value=tinycolor("#538cc6").toHex(),s(i.input_hex.element)});
